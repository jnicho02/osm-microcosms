<style>
  .details { color: #333; }
  .mic_row { display: flex }
  .mic_row > div { padding: 10px; }
  .when { color: #777; font-size: 120%; }
  .attendees > a
  {
    display: block;
    width: 8em;
    height: 8em;
    border: 1px solid #888;
    border-radius: 4px;
    float: left;
    margin: 1em;
    padding: 1em;
    background-color: rgb(238, 238, 238);
    box-sizing: border-box;
    text-decoration: none;
  }
</style>

<div class="mic_row">
  <div>
    <div class="when">
      <%= l @event.moment, :format => :friendly %>
    </div>

    <h1 class="title">
      <%= @event.title %>
    </h1>
    <p>
      Hosted by <strong><%= link_to @event.microcosm.name, microcosm_path(@event.microcosm) %></strong>
    </p>
    <p>
      Organized by: <strong>Andrew Wiseman</strong>
    </p>
  </div>
  <div>
    <p><%= @event.attendees.size %> people are going.</p>
    <p>Are you going?</p>
    <%= form_with :model => @my_attendance do |form| %>
      <%= form.hidden_field(:event_id, :value => @event.id) %>
      <%= form.hidden_field(:user_id, :value => current_user&.id) %>
      <%= form.submit :value => "Yes" %>
      <%= form.submit :value => "No" %>
    <% end %>
  </div>
</div>
<hr />
<div class="mic_row">
  <div>
    <p>
      <strong>Description:</strong>
      <%= @event.description %>
    </p>
    <strong>Who's going?</strong>
    <p class="attendees">
      <% @event.attendees.each do |attendance| %>
        <%= link_to attendance.user.display_name, user_path(attendance.user) %>
      <% end %>
    </p>
  </div>
  <div style="width: 400px">
    <p>
      Location: <strong><a href="https://www.openstreetmap.org/node/6125774816"><%= @event.location %></a></strong>
    </p>
    <a href="https://www.openstreetmap.org/directions?engine=fossgis_osrm_car&route=44.97067%2C-93.26822%3B38.90201%2C-77.04469#map=6/42.026/-85.156">Directions to this location.</a>
    <%= image_tag("dc_library.png", :size => "400x400") %>
  </div>
</div>
<%#= link_to 'Back', events_path %>
